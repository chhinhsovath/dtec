# ============================================================================
# DGTech LMS - Production Environment Configuration
# ============================================================================
# Copy this file to .env.production and fill in your actual production values
# NEVER commit the actual .env.production file to git
# ============================================================================

# ============================================================================
# SUPABASE CONFIGURATION (Required)
# ============================================================================
# Get these values from Supabase Dashboard:
# Settings → API → URL and Keys
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================
NEXT_PUBLIC_APP_URL=https://dgtech.yourdomain.com
NEXT_PUBLIC_APP_NAME=DGTech LMS
NODE_ENV=production

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# Connection pooling (optional, if not using Supabase)
DATABASE_URL=postgresql://user:password@host:5432/dtech
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# ============================================================================
# SECURITY CONFIGURATION (Required)
# ============================================================================
# Generate with: openssl rand -base64 32
ENCRYPTION_KEY=your-base64-encoded-encryption-key-here
JWT_SECRET=your-jwt-secret-key-here

# API Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================================================
# AUTHENTICATION CONFIGURATION
# ============================================================================
# Session configuration
SESSION_MAX_AGE=604800000
SESSION_SECRET=your-session-secret-here

# OAuth Providers (if needed)
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# ============================================================================
# EMAIL CONFIGURATION (for notifications)
# ============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@dgtech.yourdomain.com

# ============================================================================
# FILE STORAGE (AWS S3 or similar)
# ============================================================================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key
AWS_S3_BUCKET=dgtech-lms-prod
NEXT_PUBLIC_S3_URL=https://dgtech-lms-prod.s3.amazonaws.com

# ============================================================================
# MONITORING & LOGGING CONFIGURATION
# ============================================================================

# Sentry (Error tracking)
NEXT_PUBLIC_SENTRY_DSN=https://key@sentry.io/project-id
SENTRY_AUTH_TOKEN=your-sentry-auth-token
SENTRY_ENVIRONMENT=production

# Datadog (Performance monitoring)
DATADOG_API_KEY=your-datadog-api-key
DATADOG_APP_KEY=your-datadog-app-key
DD_SERVICE=dgtech-lms
DD_ENV=production
DD_VERSION=1.0.0

# LogRocket (Session replay)
NEXT_PUBLIC_LOGROCKET_ID=your-logrocket-id
NEXT_PUBLIC_LOGROCKET_RELEASE=1.0.0

# New Relic (APM)
NEW_RELIC_NO_CONFIG_FILE=true
NEW_RELIC_APP_NAME=dgtech-lms
NEW_RELIC_LICENSE_KEY=your-new-relic-license-key
NEW_RELIC_LOG=stdout

# ============================================================================
# ANALYTICS CONFIGURATION
# ============================================================================
NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX
NEXT_PUBLIC_MIXPANEL_TOKEN=your-mixpanel-token

# ============================================================================
# FEATURE FLAGS
# ============================================================================
# Feature toggling for gradual rollout
ENABLE_ASSESSMENT_SYSTEM=true
ENABLE_COMMUNICATION_SYSTEM=true
ENABLE_LEARNING_PATHS=true
ENABLE_AI_PREDICTIONS=true
ENABLE_DATA_EXPORT=true
ENABLE_HRMIS_INTEGRATION=true

# ============================================================================
# INTEGRATION CONFIGURATION
# ============================================================================

# HRMIS Integration
HRMIS_API_URL=https://hrmis.example.com/api
HRMIS_API_KEY=encrypted-hrmis-key
HRMIS_SYNC_ENABLED=true
HRMIS_SYNC_INTERVAL_MINUTES=60

# Google Classroom Integration
GOOGLE_CLASSROOM_ENABLED=false
GOOGLE_CLASSROOM_API_KEY=your-api-key

# Zoom Integration
ZOOM_ENABLED=false
ZOOM_CLIENT_ID=your-zoom-client-id
ZOOM_CLIENT_SECRET=your-zoom-client-secret

# ============================================================================
# CACHE CONFIGURATION
# ============================================================================
# Redis or similar (if implementing caching)
REDIS_URL=redis://user:password@localhost:6379
CACHE_TTL_SECONDS=3600

# ============================================================================
# BACKUP & DISASTER RECOVERY
# ============================================================================
# Automated backups
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=s3://dgtech-backups-prod

# ============================================================================
# PERFORMANCE & OPTIMIZATION
# ============================================================================
# Image optimization
NEXT_PUBLIC_IMAGE_OPTIMIZATION_ENABLED=true
IMAGE_OPTIMIZATION_SIZE_LIMIT=5242880

# Database query logging (set to false in production for performance)
DATABASE_QUERY_LOG_ENABLED=false

# API response compression
ENABLE_COMPRESSION=true

# ============================================================================
# SECURITY HEADERS
# ============================================================================
# CORS
CORS_ALLOWED_ORIGINS=https://dgtech.yourdomain.com,https://app.dgtech.yourdomain.com
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization

# Content Security Policy
CSP_ENABLED=true
CSP_REPORT_URI=https://your-domain.com/api/csp-report

# ============================================================================
# COMPLIANCE & LEGAL
# ============================================================================
# Data residency
DATA_RESIDENCY=us-east-1

# Privacy
GDPR_ENABLED=true
CCPA_ENABLED=true

# ============================================================================
# MAINTENANCE MODE
# ============================================================================
MAINTENANCE_MODE=false
MAINTENANCE_MODE_MESSAGE=Scheduled maintenance in progress. Please try again later.

# ============================================================================
# DEPLOYMENT CONFIGURATION
# ============================================================================
# Build-time variables
NEXT_PUBLIC_BUILD_ID=prod-${GITHUB_SHA}
NEXT_PUBLIC_BUILD_TIME=${BUILD_TIME}

# ============================================================================
# DEBUGGING (Keep disabled in production)
# ============================================================================
DEBUG=false
VERBOSE_LOGGING=false

# ============================================================================
# NOTES FOR PRODUCTION DEPLOYMENT
# ============================================================================
# 1. Generate all secrets using: openssl rand -base64 32
# 2. Store all sensitive values in your deployment platform's secrets manager
#    - Vercel: Settings → Environment Variables
#    - AWS: Secrets Manager or Parameter Store
#    - GCP: Secret Manager
# 3. Never commit actual values to version control
# 4. Rotate secrets regularly (at least quarterly)
# 5. Use different secrets for different environments (dev, staging, prod)
# 6. Enable audit logging for secret access
# 7. Monitor for unauthorized access attempts
# 8. Test all third-party integrations before going live
# 9. Set up monitoring and alerting before deployment
# 10. Have a rollback plan ready
